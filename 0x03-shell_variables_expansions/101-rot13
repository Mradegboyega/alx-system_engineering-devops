#!/bin/bash

# Check if the user provided an action (encode or decode)
if [ "$#" -ne 1 ]; then
  echo "Usage: $0 <encode|decode>"
  exit 1
fi

# Read input text from stdin
input=$(cat)

# Function to encode text using ROT13
encode_rot13() {
  tr 'a-zA-Z' 'n-za-mN-ZA-M'
}

# Function to decode text using ROT13
decode_rot13() {
  tr 'a-zA-Z' 'n-za-mN-ZA-M'
}

# Perform the selected action
case "$1" in
  "encode")
    echo "$input" | encode_rot13
    ;;
  "decode")
    echo "$input" | decode_rot13
    ;;
  *)
    echo "Invalid action. Use 'encode' or 'decode'."
    exit 1
    ;;
esac

